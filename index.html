<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
		QURO code release
    
  </title>
<!-- CSS -->
  <link rel="stylesheet" href="css/poole.css">
  <link rel="stylesheet" href="css/syntax.css">
  <link rel="stylesheet" href="css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="atom.xml">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-68146500-1', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>

	<body>
		<div class="sidebar">
			<div class="container sidebar-sticky">
				<div class="sidebar-about">
					<img src="qurofig.jpg" style="width:480px">
					<h2> 
						<a href="/">QURO</a> 
					</h2>
					<p>QURO is a query-aware compiler that automatically reorders
queries in transaction code to improve performance.</p>
					<span stype="color:#ffffff">
					</span>
				</div>
				<br>
				<nav class="sidebar-nav">
					<font size="3">Publication:<a class="sidebar-nav-item" href="http://homes.cs.washington.edu/~congy/vldb16_reorder.pdf">Leveraging Lock Contention to Improve OLTP Application
Performance</a> [<a href="http://homes.cs.washington.edu/~congy/reorder_techreport.pdf">techreport</a>]
					<br>VM Download:<a class="sidebar-nav-item" href="http://homes.cs.washington.edu/~congy/quro_test.tar">Virtual machine for experiments</a></font>
				</nav>
			</div>
		</div>
	
		<div class="content container">
			<h1>Quro on VM Tutorial</h1>
			<br>
			<li> <font size="5"><b>To start and log on to the VM:</b></font>
			<font size="4"><p><br>$ vboxmanage startvm quro_test --type=headless
			<br>$ ssh -p 2345 quro@localhost<br>
			password: qurotest</p>
			<br>
			</font>
			<li> <font size="5"><b>To run the experiments in section 6:</b></font>
			<font size="4">
			<br><p>$ cd $HOME/dbt5/
			<br>Checkout <a href="https://github.com/QUeryReOrder/quro/blob/master/quro_experiments/code/QURO_readme">QURO_readme</a>
			<br><br><font size="3" color="blue"><a href="https://github.com/QUeryReOrder/quro/blob/master/quro_experiments/code/">Get the source code</a></font>
			</p></font>
			<br>

			<li> <font size="5"><b>To run QURO to generate reordered transaction code:</b></font>
			<font size="4"><p>$ cd $HOME/llvm/test
				<br>$ quro simple_BENCHMARK.cpp --
				<br>The output source file will be output.cpp.
				<br>Source code of QURO is in $HOME/llvm/llvm/tools/clang/tools/quro.
				<br><br><font size="3" color="blue"><a href="https://github.com/QUeryReOrder/quro/tree/master/quro/code">Get the source code</a></font>

				<br><br>The connection with external ILP solver is still under construction. The version of QURO on this VM uses a simple heuristic to reorder all statements instead of using ILP solver, but it can generate input for ILP solver and let it compute the final order of queries/units. More details can be found in <a href="https://github.com/QUeryReOrder/quro/blob/master/quro/code/README.md">README.md</a>.
				<!--
				<br><br>The connection with ILP is still under construction.
The version of QURO on this VM uses a simple heuristic to reorder all statements instead of using ILP.
But it can generate the input for ILP, and different ILP solvers (gurobi, lpsolver) are available in this VM to produce the final order of queries/units.

				<br><br>To use the ILP solver to give the order of only queries:
				<br>>> add <font color="gray" size="3">"#define GENERATE_ILP_INPUT"</font> to the QURO source code
				<br>To use the ILP solver to give the order of all reorder units:
				<br>>> add <font color="gray" size="3">"#define GENERATE_LARGE_ILP_INPUT"</font> to the QURO source code
				<br>Then
				<br>$ cp $HOME/llvm/test/queryinfo.txt lpsolver/lp_solve_5.5/quro/  <i>(for lpsolver)</i>
				<br>or
				<br>$ cp $HOME/llvm/test/queryinfo.txt gurobi/ <i>(for gurobi)</i>
				<br>Then run the ILP solver.
				-->
				<br><br>To know more about how to run the ILP solver to produce order results:
				<br>Checkout $HOME/lpsolver/lp_solve_5.5/quro/<a href="https://github.com/QUeryReOrder/quro/blob/master/ILPsolvers/code/lp_solve_5.5/QURO_readme">QURO_readme</a>
				<br>Checkout $HOME/gurobi/<a href="https://github.com/QUeryReOrder/quro/blob/master/ILPsolvers/code/gurobi/QURO_readme">QURO_readme</a>
				<br><br><font size="3" color="blue"><a href="https://github.com/QUeryReOrder/quro/tree/master/ILPsolvers/code">Get the source code</a></font>
			</p></font>

			<br>
			<li> <font size="5"><b>To run the comparison with other concurrency control scheme:</b></font>
			<font size="4"><p>$ cd $HOME/DBx1000
			<br>Checkout <a href="https://github.com/QUeryReOrder/quro/blob/master/DBx1000/code/QURO_readme">QURO_readme</a>
			<br><br><font size="3" color="blue"><a href="https://github.com/QUeryReOrder/quro/blob/master/DBx1000/code">Get the source code</a></font>
			</p></font>
			<br>
		</div>
	</body>

</html>
